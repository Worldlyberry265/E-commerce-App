<section class="section-introduction" id="sectionIntroduction">
  <div class="introduction__img-container">
    <img src="https://fakestoreapi.com/img/81fPKd-2AYL._AC_SL1500_.jpg" alt="Intro img 1"
      class="introduction__img introduction__img-1" />
    <img src="https://fakestoreapi.com/img/51Y5NI-I5jL._AC_UX679_.jpg" alt="Intro img 2"
      class="introduction__img introduction__img-2" />
    <img src="https://fakestoreapi.com/img/61IBBVJvSDL._AC_SY879_.jpg" alt="Intro img 3"
      class="introduction__img introduction__img-3" />
    <img src="https://fakestoreapi.com/img/71pWzhdJNwL._AC_UL640_QL65_ML3_.jpg" alt="Intro img 4"
      class="introduction__img introduction__img-4" />
  </div>

  <div class="introduction__text">
    <h1 class="introduction__text--title">
      From clothing to electronics to jewellery, weâ€™ve got you covered!
    </h1>
    <p class="introduction__text--subtitle">
      Explore our extensive range of high-quality products designed for every style and occasion. Refresh your wardrobe,
      upgrade your gadgets, or find the perfect sparkle for any moment. Shop confidently with quality, style, and value
      in every item!
    </p>

    <nav class="introduction__nav">
      <button (click)="onFetchAndScrollToCategoryProducts('Men\'s Clothing', 2)" class="btn-nav">Men's Clothing</button>
      <button (click)="onFetchAndScrollToCategoryProducts('Electronics', 4)" class="btn-nav">Electronics</button>
      <button (click)="onFetchAndScrollToCategoryProducts('Jewelery', 3)" class="btn-nav">Jewelery</button>
      <button (click)="onFetchAndScrollToCategoryProducts('Women\'s Clothing', 1)" class="btn-nav">Women's
        Clothing</button>
    </nav>
  </div>
</section>

<header [appHeader]="true" class="main-header" (navigateToProducts)="scrollToProducts($event)"></header>

@if (mainWeatherCode() != -1) {
<!-- If the weather kept -1, it means the user didnt allow us to know his location -->
<section class="section-weather u-margin-top-medium">
  <span class="weather__icon--container">
    @if (weatherType() === 'sunny') {
    <ng-container>
      <svg class="weather__icon--svg weather__icon--svg-sunny" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30">
        <path
          d="M 14.984375 0.98632812 A 1.0001 1.0001 0 0 0 14 2 L 14 5 A 1.0001 1.0001 0 1 0 16 5 L 16 2 A 1.0001 1.0001 0 0 0 14.984375 0.98632812 z M 5.796875 4.7988281 A 1.0001 1.0001 0 0 0 5.1015625 6.515625 L 7.2226562 8.6367188 A 1.0001 1.0001 0 1 0 8.6367188 7.2226562 L 6.515625 5.1015625 A 1.0001 1.0001 0 0 0 5.796875 4.7988281 z M 24.171875 4.7988281 A 1.0001 1.0001 0 0 0 23.484375 5.1015625 L 21.363281 7.2226562 A 1.0001 1.0001 0 1 0 22.777344 8.6367188 L 24.898438 6.515625 A 1.0001 1.0001 0 0 0 24.171875 4.7988281 z M 15 8 A 7 7 0 0 0 8 15 A 7 7 0 0 0 15 22 A 7 7 0 0 0 22 15 A 7 7 0 0 0 15 8 z M 2 14 A 1.0001 1.0001 0 1 0 2 16 L 5 16 A 1.0001 1.0001 0 1 0 5 14 L 2 14 z M 25 14 A 1.0001 1.0001 0 1 0 25 16 L 28 16 A 1.0001 1.0001 0 1 0 28 14 L 25 14 z M 7.9101562 21.060547 A 1.0001 1.0001 0 0 0 7.2226562 21.363281 L 5.1015625 23.484375 A 1.0001 1.0001 0 1 0 6.515625 24.898438 L 8.6367188 22.777344 A 1.0001 1.0001 0 0 0 7.9101562 21.060547 z M 22.060547 21.060547 A 1.0001 1.0001 0 0 0 21.363281 22.777344 L 23.484375 24.898438 A 1.0001 1.0001 0 1 0 24.898438 23.484375 L 22.777344 21.363281 A 1.0001 1.0001 0 0 0 22.060547 21.060547 z M 14.984375 23.986328 A 1.0001 1.0001 0 0 0 14 25 L 14 28 A 1.0001 1.0001 0 1 0 16 28 L 16 25 A 1.0001 1.0001 0 0 0 14.984375 23.986328 z">
        </path>
      </svg>
      <p class="main-title">
        It seems you're having a sunny day this week, so why not pick a Lightweight T-shirt?
      </p>
    </ng-container>
    } @else if (weatherType() === 'cloudy') {
    <ng-container>
      <svg class="weather__icon--svg weather__icon--svg-cloudy" xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 640 512">
        <path
          d="M294.2 1.2c5.1 2.1 8.7 6.7 9.6 12.1l14.1 84.7 84.7 14.1c5.4 .9 10 4.5 12.1 9.6s1.5 10.9-1.6 15.4l-38.5 55c-2.2-.1-4.4-.2-6.7-.2c-23.3 0-45.1 6.2-64 17.1l0-1.1c0-53-43-96-96-96s-96 43-96 96s43 96 96 96c8.1 0 15.9-1 23.4-2.9c-36.6 18.1-63.3 53.1-69.8 94.9l-24.4 17c-4.5 3.2-10.3 3.8-15.4 1.6s-8.7-6.7-9.6-12.1L98.1 317.9 13.4 303.8c-5.4-.9-10-4.5-12.1-9.6s-1.5-10.9 1.6-15.4L52.5 208 2.9 137.2c-3.2-4.5-3.8-10.3-1.6-15.4s6.7-8.7 12.1-9.6L98.1 98.1l14.1-84.7c.9-5.4 4.5-10 9.6-12.1s10.9-1.5 15.4 1.6L208 52.5 278.8 2.9c4.5-3.2 10.3-3.8 15.4-1.6zM144 208a64 64 0 1 1 128 0 64 64 0 1 1 -128 0zM639.9 431.9c0 44.2-35.8 80-80 80l-271.9 0c-53 0-96-43-96-96c0-47.6 34.6-87 80-94.6l0-1.3c0-53 43-96 96-96c34.9 0 65.4 18.6 82.2 46.4c13-9.1 28.8-14.4 45.8-14.4c44.2 0 80 35.8 80 80c0 5.9-.6 11.7-1.9 17.2c37.4 6.7 65.8 39.4 65.8 78.7z" />
      </svg>
      <p class="main-title">
        It seems you're having a cloudy day this week, so why not pick a Medium-weight T-shirt?
      </p>
    </ng-container>
    } @else if (weatherType() === 'foggy') { <ng-container>
      <svg class="weather__icon--svg weather__icon--svg-foggy" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512">
        <path
          d="M0 336c0 79.5 64.5 144 144 144l368 0c70.7 0 128-57.3 128-128c0-61.9-44-113.6-102.4-125.4c4.1-10.7 6.4-22.4 6.4-34.6c0-53-43-96-96-96c-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32C167.6 32 96 103.6 96 192c0 2.7 .1 5.4 .2 8.1C40.2 219.8 0 273.2 0 336z" />
      </svg>
      <p class="main-title">
        It seems you're having a foggy day this week, so why not pick a thick T-shirt?
      </p>
    </ng-container>
    } @else if (weatherType() === 'rainy') { <ng-container>
      <svg class="weather__icon--svg weather__icon--svg-rainy" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
        <path
          d="M96 320c-53 0-96-43-96-96c0-42.5 27.6-78.6 65.9-91.2C64.7 126.1 64 119.1 64 112C64 50.1 114.1 0 176 0c43.1 0 80.5 24.3 99.2 60c14.7-17.1 36.5-28 60.8-28c44.2 0 80 35.8 80 80c0 5.5-.6 10.8-1.6 16c.5 0 1.1 0 1.6 0c53 0 96 43 96 96s-43 96-96 96L96 320zm-6.8 52c1.3-2.5 3.9-4 6.8-4s5.4 1.5 6.8 4l35.1 64.6c4.1 7.5 6.2 15.8 6.2 24.3l0 3c0 26.5-21.5 48-48 48s-48-21.5-48-48l0-3c0-8.5 2.1-16.9 6.2-24.3L89.2 372zm160 0c1.3-2.5 3.9-4 6.8-4s5.4 1.5 6.8 4l35.1 64.6c4.1 7.5 6.2 15.8 6.2 24.3l0 3c0 26.5-21.5 48-48 48s-48-21.5-48-48l0-3c0-8.5 2.1-16.9 6.2-24.3L249.2 372zm124.9 64.6L409.2 372c1.3-2.5 3.9-4 6.8-4s5.4 1.5 6.8 4l35.1 64.6c4.1 7.5 6.2 15.8 6.2 24.3l0 3c0 26.5-21.5 48-48 48s-48-21.5-48-48l0-3c0-8.5 2.1-16.9 6.2-24.3z" />
      </svg>
      <p class="main-title">
        It seems you're having a rainy day this week, so why not pick a jacket?
      </p>
    </ng-container>
    } @else if (weatherType() === 'snowy') { <ng-container>
      <svg class="weather__icon--svg weather__icon--svg-snowy" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
        <path
          d="M224 0c13.3 0 24 10.7 24 24l0 46.1 23-23c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-57 57 0 76.5 66.2-38.2 20.9-77.8c3.4-12.8 16.6-20.4 29.4-17s20.4 16.6 17 29.4L373 142.2l37.1-21.4c11.5-6.6 26.2-2.7 32.8 8.8s2.7 26.2-8.8 32.8L397 183.8l31.5 8.4c12.8 3.4 20.4 16.6 17 29.4s-16.6 20.4-29.4 17l-77.8-20.9L272 256l66.2 38.2 77.8-20.9c12.8-3.4 26 4.2 29.4 17s-4.2 26-17 29.4L397 328.2l37.1 21.4c11.5 6.6 15.4 21.3 8.8 32.8s-21.3 15.4-32.8 8.8L373 369.8l8.4 31.5c3.4 12.8-4.2 26-17 29.4s-26-4.2-29.4-17l-20.9-77.8L248 297.6l0 76.5 57 57c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-23-23 0 46.1c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-46.1-23 23c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l57-57 0-76.5-66.2 38.2-20.9 77.8c-3.4 12.8-16.6 20.4-29.4 17s-20.4-16.6-17-29.4L75 369.8 37.9 391.2c-11.5 6.6-26.2 2.7-32.8-8.8s-2.7-26.2 8.8-32.8L51 328.2l-31.5-8.4c-12.8-3.4-20.4-16.6-17-29.4s16.6-20.4 29.4-17l77.8 20.9L176 256l-66.2-38.2L31.9 238.6c-12.8 3.4-26-4.2-29.4-17s4.2-26 17-29.4L51 183.8 13.9 162.4c-11.5-6.6-15.4-21.3-8.8-32.8s21.3-15.4 32.8-8.8L75 142.2l-8.4-31.5c-3.4-12.8 4.2-26 17-29.4s26 4.2 29.4 17l20.9 77.8L200 214.4l0-76.5L143 81c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l23 23L200 24c0-13.3 10.7-24 24-24z" />
      </svg>
      <p class="main-title">
        It seems you're having a snowy day this week, so why not pick a heavy jacket?
      </p>
    </ng-container>
    } @else if (weatherType() === 'thunders' ) { <ng-container>
      <svg class="weather__icon--svg weather__icon--svg-thunder" xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 512 512">
        <path
          d="M0 224c0 53 43 96 96 96l47.2 0L290 202.5c17.6-14.1 42.6-14 60.2 .2s22.8 38.6 12.8 58.8L333.7 320l18.3 0 64 0c53 0 96-43 96-96s-43-96-96-96c-.5 0-1.1 0-1.6 0c1.1-5.2 1.6-10.5 1.6-16c0-44.2-35.8-80-80-80c-24.3 0-46.1 10.9-60.8 28C256.5 24.3 219.1 0 176 0C114.1 0 64 50.1 64 112c0 7.1 .7 14.1 1.9 20.8C27.6 145.4 0 181.5 0 224zm330.1 3.6c-5.8-4.7-14.2-4.7-20.1-.1l-160 128c-5.3 4.2-7.4 11.4-5.1 17.8s8.3 10.7 15.1 10.7l70.1 0L177.7 488.8c-3.4 6.7-1.6 14.9 4.3 19.6s14.2 4.7 20.1 .1l160-128c5.3-4.2 7.4-11.4 5.1-17.8s-8.3-10.7-15.1-10.7l-70.1 0 52.4-104.8c3.4-6.7 1.6-14.9-4.2-19.6z" />
      </svg>
      <p class="main-title">
        It seems you're having a thunders this week, so why not pick a heavy jacket?
      </p>
    </ng-container>
    }
  </span>
</section>
}



<section class="section-advised-products u-margin-top-medium">
  <div class="bg-video">
    <video id="landing-video" class="bg-video__content" [autoplay]="true" [muted]="true" [loop]="true" playsinline>
      <!-- playsinline allow the video to autoplay instead of automatically playing it full screen-->
      <source src="Cloth-Factory.mp4" type="video/mp4" />
    </video>
  </div>

  <div class="product-frames__container">
    <div [appProductFrame]="weatherStore.menFramedProduct()!" class="product-frame"></div>
    <div [appProductFrame]="weatherStore.womenFramedProduct()!" class="product-frame"></div>
  </div>
</section>


<!-- THE SCREEN IS SHAKING WHEN I UNCOMMENT THEM -->
<section class="section-categories u-margin-top-medium" id="productsSection">
  <p class="main-title">
    You can Look to our categories if you're looking for somehting else
  </p>

  <menu class="categories__menu u-margin-top-medium">
    <div class="categories__item" (click)="onFetchCategoryProducts('men\'s clothing', 1)" id="Category-1"
      [class.categories__item-selected]="productStore.selectedCategory() === 'men\'s clothing'">
      <span class="categories__item--icon">
        <i class="fa-solid fa-shirt"></i>
      </span>
      <p class="categories__item--name">Men's Clothing</p>
    </div>
    <div class="categories__item" (click)="onFetchCategoryProducts('electronics', 2)" id="Category-2"
      [class.categories__item-selected]="productStore.selectedCategory() === 'electronics'">
      <span class="categories__item--icon">
        <i class="fa-solid fa-bolt"></i>
      </span>
      <p class="categories__item--name">Electronics</p>
    </div>
    <div class="categories__item" (click)="onFetchCategoryProducts('jewelery', 3)" id="Category-3"
      [class.categories__item-selected]="productStore.selectedCategory() === 'jewelery'">
      <span class="categories__item--icon">
        <i class="fa-regular fa-gem"></i>
      </span>
      <p class="categories__item--name">Jewellery</p>
    </div>
    <div class="categories__item" (click)="onFetchCategoryProducts('women\'s clothing', 4)" id="Category-4"
      [class.categories__item-selected]="productStore.selectedCategory() === 'women\'s clothing'">
      <span class="categories__item--icon">
        <i class="fa-solid fa-person-dress"></i>
      </span>
      <p class="categories__item--name">Women's Clothing</p>
    </div>
  </menu>

  <div class="categories__search--container">
    <input type="text" [(ngModel)]="searchedProduct" class="main-header__search categories__search--input"
      (input)="onSearchProduct($event)" placeholder="Enter an item Id or name" />
  </div>

  <ul class="product-cards__container">
    @if (!productStore.loading()) {

    @if (productStore.searchedProducts()) {
    @for(product of productStore.searchedProducts(); track $index) {
    <li [appProductCard]="product" class="product-card"></li>
    }
    } @else if(searchedProductInfo() != null) {
    <!-- no product was found so we dont display anything -->
    } @else {
    @for(product of productStore.products(); track $index) {
    <li [appProductCard]="product" class="product-card"></li>
    }
    }

    } @else {
    <mat-spinner class="product-cards__container--spinner"></mat-spinner>
    }
  </ul>

</section>